(this["webpackJsonpredux-basics"]=this["webpackJsonpredux-basics"]||[]).push([[0],Array(19).concat([function(e,t,n){e.exports={features:"Dashboard_features__3tjEn",brand:"Dashboard_brand__3Bkj0",selected:"Dashboard_selected__11Lha",animate:"Dashboard_animate__1sb3K",showDash:"Dashboard_showDash__3urn8",close:"Dashboard_close__11EtN",removeDash:"Dashboard_removeDash__2DyCH"}},function(e,t,n){e.exports={detailCont:"PendDetail_detailCont__I9CYC",measurements:"PendDetail_measurements__3s92C",cloth:"PendDetail_cloth__Fpsrl"}},,,,,function(e,t,n){e.exports={header:"Header_header__2YvJ5",account:"Header_account__3kEkq",company:"Header_company__1OHA6",hamCont:"Header_hamCont__3kOeb",dashOn:"Header_dashOn__3ENcc"}},,,,function(e,t,n){e.exports={message:"Confirmation_message__RJTNP",btnCont:"Confirmation_btnCont__tgAwh"}},function(e,t,n){e.exports={header:"Header_header__1_uuX",login:"Header_login__1j8jg",signup:"Header_signup__2RYOz",linkCont:"Header_linkCont__3dhUz"}},,function(e,t,n){e.exports={newOrder:"NewOrder_newOrder__3Vzhl",mb:"NewOrder_mb__3_v4h",btnCont:"NewOrder_btnCont__3_-Ta",loadCont:"NewOrder_loadCont__1vYdm",btn:"NewOrder_btn__s11Kd"}},function(e,t,n){e.exports={backdrop:"AhsanModal_backdrop__L_5BB",modal:"AhsanModal_modal__2n7pH",wrap:"AhsanModal_wrap__34QFi",closeCont:"AhsanModal_closeCont__jtKt8"}},function(e,t,n){e.exports={searchCont:"SearchExisting_searchCont__1Egza",clientsCont:"SearchExisting_clientsCont__240m1",mb_0:"SearchExisting_mb_0__1NRAo",results:"SearchExisting_results__gcUTM"}},function(e,t,n){e.exports={client:"Client_client__3UZSX",detailCont:"Client_detailCont__EXA6T",measurements:"Client_measurements__2cd3G",btn:"Client_btn__3l7WC"}},function(e,t,n){e.exports={pendCont:"PendingOrders_pendCont__1TbUJ",pageCont:"PendingOrders_pageCont__MAn0J",disabled:"PendingOrders_disabled__2amqu"}},function(e,t,n){e.exports={liveDemo:"LiveDemo_liveDemo__308Py",info:"LiveDemo_info__1U1Nv",username:"LiveDemo_username__QNT2e",pass:"LiveDemo_pass__3bivu"}},,,,,function(e,t,n){e.exports={settings:"Settings_settings__2Cum4",btnCont:"Settings_btnCont__Dyryt",changeCont:"Settings_changeCont__34hwz",logoutCont:"Settings_logoutCont__OeDSR"}},,,,,function(e,t,n){e.exports={orderCont:"PendingOrder_orderCont__19gWJ",btnCont:"PendingOrder_btnCont__8Sy2X",update:"PendingOrder_update__hA36A"}},function(e,t,n){e.exports={form:"Mail_form__3vbOF",btn:"Mail_btn__1fmhZ"}},function(e,t,n){e.exports={dashResCont:"DashResult_dashResCont__xDrMB",backdrop:"DashResult_backdrop__3xHru"}},function(e,t,n){e.exports={formCont:"LoginSignUp_formCont__2FaA6",form:"LoginSignUp_form__1oFPl"}},,,,function(e,t,n){e.exports={resultCont:"Result_resultCont__DjSmK"}},function(e,t,n){e.exports={loadCont:"Loader_loadCont__3CPEp"}},function(e,t,n){e.exports={errorCont:"Message_errorCont__2UBtq"}},,function(e,t,n){e.exports={features:"Features_features__OZgFL"}},,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(11),r=n.n(s),c=n(5),o=n(22),i=Object(o.b)({name:"ui",initialState:{showDash:!1,showPendingOrders:!0,showNewOrder:!1,showSearchClients:!1,showMails:!1,showSettings:!1,firstRender:!0,meta:{show:!1,message:""}},reducers:{toggleDashHandler:function(e){e.showDash=!e.showDash},showPendingOrdersHandler:function(e){e.showPendingOrders=!0,e.showNewOrder=!1,e.showSearchClients=!1,e.showSettings=!1,e.showMails=!1},showNewOrderHandler:function(e){e.showPendingOrders=!1,e.showNewOrder=!0,e.showSearchClients=!1,e.showSettings=!1,e.showMails=!1},showSearchClientsHandler:function(e){e.showPendingOrders=!1,e.showNewOrder=!1,e.showSearchClients=!0,e.showSettings=!1,e.showMails=!1},showSettingsHandler:function(e){e.showPendingOrders=!1,e.showNewOrder=!1,e.showSearchClients=!1,e.showSettings=!0,e.showMails=!1},showMailsHandler:function(e){e.showPendingOrders=!1,e.showNewOrder=!1,e.showSearchClients=!1,e.showSettings=!1,e.showMails=!0},toggleFirstRender:function(e){e.firstRender=!e.firstRender},toggleMeta:function(e,t){e.meta.show=!e.meta.show,e.meta.message=t.payload},resetState:function(e){e.showDash=!1,e.showPendingOrders=!0,e.showNewOrder=!1,e.showSearchClients=!1,e.showMails=!1,e.showSettings=!1,e.firstRender=!0}}}),l=i.actions,d=i,u=Object(o.b)({name:"ordersSlice",initialState:{orders:[]},reducers:{addOrders:function(e,t){e.orders=t.payload},addOrder:function(e,t){e.orders.push(t.payload)},replaceOrder:function(e,t){var n=e.orders.findIndex((function(e){return e._id===t.payload._id}));e.orders[n]=t.payload},deleteOrder:function(e,t){console.log(t.payload),e.orders=e.orders.filter((function(e){return e._id!==t.payload}))},resetState:function(e){e.orders=[]}}}),j=u.actions,h=u,b=Object(o.b)({name:"auth",initialState:{ownerId:"",username:"",email:"",authenticated:!1},reducers:{setAuthState:function(e,t){e.ownerId=t.payload.ownerId,e.username=t.payload.username,e.email=t.payload.email,e.authenticated=t.payload.authenticated},resetState:function(e){e.ownerId="",e.username="",e.email="",e.authenticated=!1}}}),O=b.actions,m=b,p=Object(o.a)({reducer:{ui:d.reducer,porders:h.reducer,auth:m.reducer}}),g=n(21),f=(n(72),n(4)),x=(n(73),n(25)),w=n.n(x),_=n(1),v=function(){var e=Object(c.c)((function(e){return e.ui.showDash})),t=Object(c.c)((function(e){return e.auth.username})),n=Object(c.b)();return Object(_.jsxs)("header",{className:"".concat(w.a.header," ").concat(e?w.a.dashOn:""),children:[Object(_.jsxs)("div",{className:w.a.company,children:[Object(_.jsx)("i",{class:"fas fa-tshirt"})," TailorSoft"]}),Object(_.jsx)("div",{className:w.a.hamCont,onClick:function(){n(l.toggleDashHandler())},children:Object(_.jsx)("i",{class:"fas fa-bars"})}),Object(_.jsxs)("div",{className:w.a.account,children:[Object(_.jsx)("i",{class:"fas fa-user"}),Object(_.jsx)("p",{className:w.a.accountHolder,children:t})]})]})},C=n(19),S=n.n(C),y=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.ui.showDash})),n=Object(c.c)((function(e){return e.ui})),a=n.showPendingOrders,s=n.showNewOrder,r=(n.showSearchClients,n.showSettings),o=n.showMails;return Object(_.jsxs)("ul",{className:"".concat(S.a.features," ").concat(t?S.a.animate:S.a.close),children:[Object(_.jsxs)("li",{className:S.a.brand,children:[Object(_.jsx)("i",{class:"fas fa-tshirt"})," TailorSoft"]}),Object(_.jsxs)("li",{className:a?S.a.selected:"",onClick:function(){e(l.showPendingOrdersHandler()),e(l.toggleDashHandler())},children:[Object(_.jsx)("i",{class:"fas fa-shopping-cart"})," Pending Orders"]}),Object(_.jsxs)("li",{className:s?S.a.selected:"",onClick:function(){e(l.showNewOrderHandler()),e(l.toggleDashHandler())},children:[Object(_.jsx)("i",{class:"fas fa-cart-plus"})," New Order"]}),Object(_.jsxs)("li",{className:o?S.a.selected:"",onClick:function(){e(l.showMailsHandler()),e(l.toggleDashHandler())},children:[Object(_.jsx)("i",{class:"fas fa-envelope"})," Email Client"]}),Object(_.jsxs)("li",{className:r?S.a.selected:"",onClick:function(){e(l.showSettingsHandler()),e(l.toggleDashHandler())},children:[Object(_.jsx)("i",{class:"fas fa-cog"})," Settings"]})]})},N=n(54),D=n.n(N),k=n(32),H=n.n(k),P=n(117),A=n(55),T=n.n(A),I=n(113),E=function(){return Object(_.jsx)("div",{className:T.a.loadCont,children:Object(_.jsx)(I.a,{})})},M=n(29),F=n.n(M),L=n(33),R=n.n(L),U=function(e){return Object(_.jsxs)(a.Fragment,{children:[Object(_.jsxs)("div",{className:R.a.modal,children:[Object(_.jsx)("div",{className:R.a.closeCont,children:Object(_.jsx)("i",{class:"fas fa-times-circle",onClick:e.closeHandler})}),Object(_.jsx)("div",{className:R.a.wrap,children:e.children})]}),Object(_.jsx)("div",{className:R.a.backdrop,onClick:e.closeHandler})]})},W=function(e){return Object(_.jsxs)(U,{closeHandler:e.closeHandler,children:[Object(_.jsx)("div",{className:F.a.message,children:e.message}),Object(_.jsxs)("div",{className:F.a.btnCont,children:[!e.warning&&Object(_.jsx)("button",{onClick:e.closeHandler,className:F.a.btn,children:"ok"}),e.warning&&Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)("button",{className:F.a.btn,onClick:e.closeHandler,children:"No"}),Object(_.jsx)("button",{className:F.a.btn,onClick:e.proceedHandler,children:"Yes"})]})]})]})},J=n(56),Y=n.n(J),z=function(e){return Object(_.jsx)("div",{className:Y.a.errorCont,style:e.style,children:Object(_.jsx)("h1",{children:e.message})})},B=n(59),q=n(34),K=n.n(q),X=n(35),Z=n.n(X),G=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),s=n[0],r=n[1];return Object(_.jsxs)(a.Fragment,{children:[Object(_.jsxs)("p",{onClick:function(t){"button"!==t.target.value?r(!0):e.useHandler(e.client)},className:Z.a.client,children:[e.client.name," ",Object(_.jsx)("button",{className:Z.a.btn,value:"button",type:"button",children:"use"})]}),s&&Object(_.jsx)(U,{closeHandler:function(){return r(!1)},children:Object(_.jsxs)("div",{className:Z.a.detailCont,children:[Object(_.jsxs)("p",{children:[Object(_.jsx)("span",{children:"name : "}),e.client.name]}),Object(_.jsxs)("p",{children:[Object(_.jsx)("span",{children:"email : "}),e.client.email]}),Object(_.jsxs)("div",{className:Z.a.measurements,children:[Object(_.jsx)("p",{children:Object(_.jsx)("span",{children:"measurements:"})}),Object(_.jsx)("div",{children:e.client.measurements})]})]})})]})},Q=function(e){var t=Object(c.c)((function(e){return e.auth.ownerId})),n=Object(a.useState)(!1),s=Object(f.a)(n,2),r=s[0],o=s[1],i=Object(a.useState)(!1),l=Object(f.a)(i,2),d=l[0],u=l[1],j=Object(a.useState)(null),h=Object(f.a)(j,2),b=h[0],O=h[1],m=Object(a.useState)([]),p=Object(f.a)(m,2),g=p[0],x=p[1],w=Object(a.useRef)(),v=function(t){o(!1),w.current.value="",e.useHandler(t)};return Object(_.jsxs)("form",{className:"".concat(K.a.searchCont," ").concat(r||d?K.a.results:""),onSubmit:function(e){e.preventDefault(),o(!1),0!==w.current.value.trim().length&&(u(!0),fetch("".concat("https://nameless-beach-48284.herokuapp.com","/api/getClient?name=").concat(w.current.value.trim(),"&ownerId=").concat(t)).then((function(e){if(500===e.status||!e.ok)throw new Error("There was an error please try again.");return e.json()})).then((function(e){o(!0),u(!1),x(e.clients)})).catch((function(e){o(!0),u(!1),O(e.message)})))},style:Object(B.a)({},e.style),children:[Object(_.jsx)("input",{type:"text",placeholder:"search by name",ref:w,className:"".concat(r?K.a.mb_0:""),onChange:function(){r&&o(!1)}}),(r||d)&&Object(_.jsx)("hr",{}),r&&0!==g.length&&!b&&Object(_.jsx)("ul",{className:K.a.clientsCont,children:g.map((function(e){return Object(_.jsx)(G,{useHandler:v,client:e})}))}),r&&0==g.length&&!b&&Object(_.jsx)(z,{message:"No client with this name exists."}),r&&b&&Object(_.jsx)(z,{message:b}),d&&Object(_.jsx)(E,{})]})},V=function(e){var t=!!e.order,n=Object(c.c)((function(e){return e.auth.ownerId})),s=Object(c.b)(),r=Object(a.useState)(!1),o=Object(f.a)(r,2),i=o[0],d=o[1],u=Object(a.useState)(t?e.order.clientId.name:""),h=Object(f.a)(u,2),b=h[0],O=h[1],m=Object(a.useState)(t?e.order.clientId.email:""),p=Object(f.a)(m,2),g=p[0],x=p[1],w=Object(a.useState)(t?e.order.clientId.measurements:""),v=Object(f.a)(w,2),C=v[0],S=v[1],y=Object(a.useState)(t?e.order.returnDate:"2017-05-24"),N=Object(f.a)(y,2),D=N[0],k=N[1],A=Object(a.useState)(t?e.order.price:""),T=Object(f.a)(A,2),I=T[0],M=T[1],F=Object(a.useState)(t?e.order.cloth:""),L=Object(f.a)(F,2),R=L[0],U=L[1],W=Object(a.useState)(!1),J=Object(f.a)(W,2),Y=J[0],B=J[1],q=Object(a.useState)(!0),K=Object(f.a)(q,2),X=K[0],Z=K[1],G=Object(a.useState)(!1),V=Object(f.a)(G,2),$=V[0],ee=V[1],te=Object(a.useState)(null),ne=Object(f.a)(te,2),ae=ne[0],se=ne[1];return Object(_.jsxs)(a.Fragment,{children:[Y&&Object(_.jsx)(E,{}),$&&Object(_.jsx)(z,{message:"Order was updated successfully.",style:{color:"black"}}),i&&Object(_.jsx)(z,{message:i,style:{color:"red"}}),X&&!t&&Object(_.jsx)(Q,{useHandler:function(e){O(e.name),x(e.email),S(e.measurements),se(e._id)}}),X&&Object(_.jsxs)("form",{className:"".concat(H.a.newOrder),onSubmit:function(a){d(!1),ee(!1),a.preventDefault();var r,c,o=!1;([b,C,I,D,R].forEach((function(e){0===e.trim().length&&(d("Fields Should not be empty."),o=!0)})),o)||(B(!0),t||Z(!1),r=t?"".concat("https://nameless-beach-48284.herokuapp.com","/api/updateOrder"):"".concat("https://nameless-beach-48284.herokuapp.com","/api/postOrder?existing=").concat(!!ae),c=t?"PUT":"POST",fetch(r,{method:c,headers:{"Content-type":"application/json"},body:JSON.stringify({name:b,email:g,measurements:C,price:I,returnDate:D,cloth:R,clientId:t?e.order.clientId._id:ae,orderId:t?e.order._id:null,ownerId:n})}).then((function(e){if(500===e.status||!e.ok)throw new Error("There was an error please try again.");return e.json()})).then((function(e){console.log(e),e.clientData.returnDate=e.clientData.returnDate.split("T")[0],e.clientData.createdAt=e.clientData.createdAt.split("T")[0],B(!1),Z(!0),t?(ee(!0),s(j.replaceOrder(e.clientData))):(s(j.addOrder(e.clientData)),s(l.toggleMeta("The order was added")),O(""),M(""),k("2017-05-24"),x(""),S(""),U(""),se(null))})).catch((function(e){e.message="There was an error please try again.",B(!1),Z(!0),d(e.message)})))},children:[Object(_.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(_.jsx)("input",{id:"name",type:"text",value:b,onChange:function(e){O(e.target.value),$&&ee(!1),i&&d(!1)}}),Object(_.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(_.jsx)("input",{id:"email",type:"email",value:g,onChange:function(e){x(e.target.value),$&&ee(!1),i&&d(!1)}}),Object(_.jsx)("label",{htmlFor:"measurements",children:"Measurements:"}),Object(_.jsx)("textarea",{id:"measurements",rows:"10",cols:"50",value:C,onChange:function(e){S(e.target.value),$&&ee(!1),i&&d(!1)}}),Object(_.jsx)(P.a,{id:"date",label:"Return Date",type:"date",defaultValue:D,className:H.a.mb,onChange:function(e){k(e.target.value),$&&ee(!1),i&&d(!1)},InputLabelProps:{shrink:!0}}),Object(_.jsx)("label",{htmlFor:"price",children:"Price:"}),Object(_.jsx)("input",{type:"text",id:"price",value:I,onChange:function(e){M(e.target.value),$&&ee(!1),i&&d(!1)}}),Object(_.jsx)("label",{htmlFor:"cloth",children:"Stitch Details:"}),Object(_.jsx)("textarea",{id:"cloth",rows:"10",cols:"50",value:R,onChange:function(e){U(e.target.value),$&&ee(!1),i&&d(!1)}}),Object(_.jsx)("div",{className:H.a.btnCont,children:Object(_.jsx)("button",{className:H.a.btn,type:"submit",children:t?"Update":"Add"})})]})]})},$=n(42),ee=n.n($),te=n(10),ne=function(){var e=Object(c.c)((function(e){return e.auth.ownerId})),t=Object(a.useState)(null),n=Object(f.a)(t,2),s=n[0],r=n[1],o=Object(a.useState)(""),i=Object(f.a)(o,2),d=i[0],u=i[1],h=Object(a.useState)(""),b=Object(f.a)(h,2),m=b[0],p=b[1],g=Object(a.useState)(""),x=Object(f.a)(g,2),w=x[0],v=x[1],C=Object(a.useState)(!1),S=Object(f.a)(C,2),y=S[0],N=S[1],D=Object(c.b)(),k=Object(a.useState)(!1),H=Object(f.a)(k,2),P=H[0],A=H[1],T=Object(te.g)(),I=Object(a.useState)(null),M=Object(f.a)(I,2),F=(M[0],M[1],function(){A((function(e){return!e}))});return Object(_.jsxs)("div",{className:ee.a.settings,children:[Object(_.jsx)("div",{className:ee.a.logoutCont,children:Object(_.jsx)("button",{onClick:F,children:"Logout"})}),Object(_.jsxs)("form",{onSubmit:function(t){t.preventDefault(),"61640f615fb9bdcd6ca3eded"!=e?(r(null),0!==d.trim().length&&0!==m.trim().length&&0!==w.trim().length?m===w?(N(!0),fetch("".concat("https://nameless-beach-48284.herokuapp.com","/api/changePassword?ownerId=").concat(e),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({currentPassword:d,newPassword:m})}).then((function(e){if(500==e.status)throw new Error("There was an error please try again.");if(401==e.status)throw new Error("Invalid Password");return e.json()})).then((function(e){N(!1),u(""),p(""),v(""),D(l.toggleMeta("The password was changed successfully"))})).catch((function(e){N(!1),r(e.message)}))):r("Both passwords should be equal"):r("Fields should not be empty")):D(l.toggleMeta("As a demo user, You don't have rights to change the password."))},className:ee.a.changeCont,children:[y&&Object(_.jsx)(E,{}),Object(_.jsx)("p",{children:"Change Password"}),Object(_.jsx)("input",{type:"password",onChange:function(e){return u(e.target.value)},placeholder:"current password",value:d}),Object(_.jsx)("input",{type:"password",onChange:function(e){return p(e.target.value)},placeholder:"new password",value:m}),Object(_.jsx)("input",{type:"password",onChange:function(e){return v(e.target.value)},placeholder:"confirm new password",value:w}),s&&Object(_.jsx)("h1",{style:{color:"red",textAlign:"center",fontSize:"1.2rem"},children:s}),Object(_.jsx)("button",{type:"submit",children:"Change"})]}),P&&Object(_.jsx)(W,{warning:!0,closeHandler:F,proceedHandler:function(){localStorage.removeItem("Authorization"),D(O.resetState()),D(l.resetState()),D(j.resetState()),T.push("/welcome")},message:"Are you sure you want to logout?"})]})},ae=n(36),se=n.n(ae),re=n(47),ce=n.n(re),oe=n(20),ie=n.n(oe),le=function(e){return Object(_.jsxs)("div",{className:ie.a.detailCont,children:[Object(_.jsxs)("p",{className:ie.a.name,children:[Object(_.jsx)("span",{children:"name : "}),e.order.clientId.name]}),Object(_.jsxs)("p",{className:ie.a.email,children:[Object(_.jsx)("span",{children:"email : "}),e.order.clientId.email]}),Object(_.jsxs)("div",{className:ie.a.measurements,children:[Object(_.jsx)("p",{children:Object(_.jsx)("span",{children:"measurements:"})}),Object(_.jsx)("div",{children:e.order.clientId.measurements})]}),Object(_.jsxs)("p",{className:ie.a.createdAt,children:[Object(_.jsx)("span",{children:"created At: "}),e.order.createdAt]}),Object(_.jsxs)("p",{className:ie.a.returnDate,children:[Object(_.jsx)("span",{children:"return Date: "}),e.order.returnDate]}),Object(_.jsxs)("p",{className:ie.a.price,children:[Object(_.jsx)("span",{children:"price : "}),e.order.price]}),Object(_.jsxs)("div",{className:ie.a.cloth,children:[Object(_.jsx)("p",{children:Object(_.jsx)("span",{children:"Stitch Details:"})}),Object(_.jsx)("div",{children:e.order.cloth})]})]})},de=function(e){var t=Object(a.useState)(!1),n=Object(f.a)(t,2),s=n[0],r=n[1],o=Object(a.useState)(!1),i=Object(f.a)(o,2),d=i[0],u=i[1],h=Object(a.useState)({showWarning:!1,message:null,proceedHandler:null}),b=Object(f.a)(h,2),O=b[0],m=b[1],p=Object(c.b)(),g=function(){r((function(e){return!e}))},x=function(){u((function(e){return!e}))},w=function(e){"delete"===e.target.value?m((function(e){return{showWarning:!e.showWarning,message:"Are You sure you want to delete this order?",proceedHandler:C}})):"complete"===e.target.value?m((function(e){return{showWarning:!e.showWarning,message:"Are You sure you want to complete this order?",proceedHandler:v}})):m((function(e){return{showWarning:!e.showWarning,message:null,proceedHandler:null}}))},v=function(){m((function(e){return{showWarning:!e.showWarning,message:null,proceedHandler:null}})),e.toggleLoader();var t=!0;fetch("".concat("https://nameless-beach-48284.herokuapp.com","/api/completeOrder"),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({orderId:e.order._id})}).then((function(n){if(t=!1,e.toggleLoader(),500===n.status||!n.ok)throw new Error("There was an error");p(l.toggleMeta("The order is completed.")),p(j.deleteOrder(e.order._id))})).catch((function(n){t&&e.toggleLoader(),p(l.toggleMeta("There was an error please try  again."))}))},C=function(){m((function(e){return{showWarning:!e.showWarning,message:null,proceedHandler:null}})),e.toggleLoader();var t=!0;fetch("".concat("https://nameless-beach-48284.herokuapp.com","/api/deleteOrder"),{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({orderId:e.order._id})}).then((function(n){if(t=!1,e.toggleLoader(),500===n.status||!n.ok)throw new Error("There was an error");p(l.toggleMeta("The order was deleted.")),p(j.deleteOrder(e.order._id))})).catch((function(n){t&&e.toggleLoader(),p(l.toggleMeta("There was an error please try  again."))}))},S=Object(_.jsx)(le,{order:e.order}),y=Object(_.jsx)(V,{order:e.order});return Object(_.jsxs)(a.Fragment,{children:[Object(_.jsxs)("div",{className:ce.a.orderCont,children:[Object(_.jsxs)("p",{children:["Name : ",e.order.clientId.name]}),Object(_.jsxs)("p",{children:["createdAt : ",e.order.createdAt]}),Object(_.jsxs)("p",{children:["returnDate : ",e.order.returnDate]}),Object(_.jsx)("hr",{}),Object(_.jsxs)("div",{className:ce.a.btnCont,children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{onClick:g,children:"Details"}),Object(_.jsx)("button",{value:"delete",onClick:w,children:"Delete"})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{onClick:x,children:"Update"}),Object(_.jsx)("button",{value:"complete",onClick:w,children:"Complete"})]})]})]}),s&&Object(_.jsx)(U,{closeHandler:g,children:S}),d&&Object(_.jsx)(U,{closeHandler:x,children:y}),O.showWarning&&Object(_.jsx)(W,{warning:!0,closeHandler:w,proceedHandler:O.proceedHandler,message:O.message})]})},ue=function(){var e=Object(c.c)((function(e){return e.auth.ownerId})),t=Object(c.c)((function(e){return e.ui.firstRender})),n=Object(a.useState)(!t),s=Object(f.a)(n,2),r=s[0],o=s[1],i=Object(a.useState)(!!t),d=Object(f.a)(i,2),u=d[0],h=d[1],b=Object(a.useState)(null),O=Object(f.a)(b,2),m=O[0],p=O[1],g=Object(a.useState)([]),x=Object(f.a)(g,2),w=x[0],v=x[1],C=Object(c.b)(),S=Object(c.c)((function(e){return e.porders.orders}));Object(a.useEffect)((function(){t?(C(l.toggleFirstRender()),fetch("".concat("https://nameless-beach-48284.herokuapp.com","/api/getPendOrders?ownerId=").concat(e)).then((function(e){if(500===e.status||!e.ok)throw new Error("There was an error please try again.");return e.json()})).then((function(e){e.orders.forEach((function(e){e.returnDate=e.returnDate.split("T")[0],e.createdAt=e.createdAt.split("T")[0]})),o(!0),h(!1),C(j.addOrders(e.orders)),v(e.orders)})).catch((function(e){"Failed to fetch"===e.message&&(e.message="There was an error please try again."),h(!1),p(e.message)}))):v(S)}),[S]);var y=Object(a.useState)(1),N=Object(f.a)(y,2),D=N[0],k=N[1],H=6*D,P=H-6,A=w.slice(P,H);console.log(A);var T=function(){h((function(e){return!e}))};return Object(_.jsxs)(a.Fragment,{children:[m&&Object(_.jsx)(z,{message:m}),u&&Object(_.jsx)(E,{}),0===w.length&&!u&&!m&&r&&Object(_.jsx)(z,{message:"You have no pending orders",style:{color:"teal"}}),r&&0!==w.length&&!m&&Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)("div",{className:se.a.pendCont,children:A.map((function(e){return Object(_.jsx)(de,{order:e,toggleLoader:T},e._id)}))}),Object(_.jsxs)("div",{className:se.a.pageCont,children:[Object(_.jsx)("button",{onClick:function(){1!=D&&k((function(e){return e-1}))},className:1==D?se.a.disabled:"",children:"Previous Page"}),Object(_.jsx)("button",{className:6*D>=w.length?se.a.disabled:"",onClick:function(){6*D>=w.length||k((function(e){return e+1}))},children:"Next Page"})]})]})]})},je=(n(80),function(){return Object(_.jsx)("p",{children:"This is search clients"})}),he=n(48),be=n.n(he),Oe=function(e){var t=Object(c.b)(),n=Object(a.useState)(""),s=Object(f.a)(n,2),r=s[0],o=s[1],i=Object(a.useState)(""),d=Object(f.a)(i,2),u=d[0],j=d[1],h=Object(a.useState)(""),b=Object(f.a)(h,2),O=b[0],m=b[1],p=Object(a.useState)(null),g=Object(f.a)(p,2),x=g[0],w=g[1],v=Object(a.useState)(!1),C=Object(f.a)(v,2),S=C[0],y=C[1];return Object(_.jsxs)(a.Fragment,{children:[S&&Object(_.jsx)(E,{}),x&&Object(_.jsx)(z,{message:x}),Object(_.jsx)(Q,{useHandler:function(e){o(e.email),x&&w(null)}}),Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(null),0!==r.trim().length&&0!==O.trim().length?(y(!0),fetch("".concat("https://nameless-beach-48284.herokuapp.com","/api/postMail"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:r,subject:u,mail:O})}).then((function(e){if(y(!1),500===e.status||!e.ok)throw new Error("There was an error please try again.");o(""),m(""),j(""),t(l.toggleMeta("The email was sent successfully"))})).catch((function(e){y(!1),t(l.toggleMeta("".concat(e.message)))}))):w("Fields should not be empty")},className:be.a.form,children:[Object(_.jsx)("input",{type:"email",id:"email",placeholder:"to",onChange:function(e){x&&w(null),o(e.target.value)},value:r}),Object(_.jsx)("input",{type:"text",id:"subject",placeholder:"subject",value:u,onChange:function(e){x&&w(null),j(e.target.value)}}),Object(_.jsx)("textarea",{placeholder:"compose email",rows:"10",onChange:function(e){x&&w(null),m(e.target.value)},value:O}),Object(_.jsx)("button",{className:be.a.btn,type:"submit",children:"Send"})]})]})},me=function(){var e=Object(c.c)((function(e){return e.ui})),t=e.showPendingOrders,n=e.showNewOrder,a=e.showSearchClients,s=e.showSettings,r=e.showMails;return Object(_.jsxs)("div",{className:D.a.resultCont,children:[t&&Object(_.jsx)(ue,{}),n&&Object(_.jsx)(V,{}),a&&Object(_.jsx)(je,{}),s&&Object(_.jsx)(ne,{}),r&&Object(_.jsx)(Oe,{})]})},pe=n(49),ge=n.n(pe),fe=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.ui.showDash}));return Object(_.jsxs)("div",{className:ge.a.dashResCont,children:[Object(_.jsx)(y,{}),Object(_.jsx)(me,{}),t&&Object(_.jsx)("div",{className:ge.a.backdrop,onClick:function(){e(l.toggleDashHandler())}})]})},xe=function(){return Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)(v,{}),Object(_.jsx)(fe,{})]})},we=(n(81),n(30)),_e=n.n(we),ve=function(){return Object(_.jsxs)("header",{className:_e.a.header,children:[Object(_.jsxs)("li",{className:_e.a.company,children:[Object(_.jsx)("i",{class:"fas fa-tshirt"})," TailorSoft"]}),Object(_.jsxs)("div",{className:_e.a.linkCont,children:[Object(_.jsx)("li",{className:_e.a.login,children:Object(_.jsx)(g.b,{to:"/login",children:"Login"})}),Object(_.jsx)("li",{className:_e.a.signup,children:Object(_.jsx)(g.b,{to:"/signup",children:"SignUp"})})]})]})},Ce=n(37),Se=n.n(Ce),ye=function(){return Object(_.jsxs)("div",{className:Se.a.liveDemo,children:[Object(_.jsxs)("div",{className:Se.a.info,children:[Object(_.jsx)("i",{class:"fas fa-info-circle"})," For a demo, login using the credentials given below:"]}),Object(_.jsxs)("div",{className:Se.a.username,children:[Object(_.jsx)("p",{children:"username:"}),Object(_.jsx)("p",{children:"tailorsoft"})]}),Object(_.jsxs)("div",{className:Se.a.pass,children:[Object(_.jsx)("p",{children:"password:"}),Object(_.jsx)("p",{children:"tailorsoft123"})]})]})},Ne=n(58),De=n.n(Ne),ke=function(){return Object(_.jsxs)("div",{className:De.a.features,children:[Object(_.jsx)("h1",{children:"Features:"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("h2",{children:"Create Orders"}),Object(_.jsx)("p",{children:"In tailorSoft, you can create new orders by taking the complete information about your customer and their stitch details. Like their measurements, their name and email and the stitch details of their clothe."}),Object(_.jsx)("hr",{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("h2",{children:"Automated Emails"}),Object(_.jsx)("p",{children:"When you will complete an order then an automated email will be sent to your customer about the completion of their order."}),Object(_.jsx)("hr",{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("h2",{children:"Orders of existing clients"}),Object(_.jsx)("p",{children:"If there is a customer who have visited you before then you can get the details of that customer by using the search by name field during creating a new order."}),Object(_.jsx)("hr",{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("h2",{children:"Pending Orders"}),Object(_.jsx)("p",{children:"You can keep track of orders that are pending, you can edit them, you can delete them and many more."}),Object(_.jsx)("hr",{})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("h2",{children:"Email Clients"}),Object(_.jsx)("p",{children:"You can email your customer using this application. You will be provided a search by name field by typing name you will get the email and other details of customer to whom you want to send email."})]})]})},He=function(e){return Object(_.jsxs)(a.Fragment,{children:[Object(_.jsx)(ve,{}),Object(_.jsx)(ye,{}),Object(_.jsx)(ke,{})]})},Pe=(n(82),function(){return Object(_.jsx)("h1",{children:"Page not found"})}),Ae=n(50),Te=n.n(Ae),Ie=function(e){var t=Object(c.b)(),n=Object(te.g)(),s=e.signUp,r=Object(a.useState)(null),o=Object(f.a)(r,2),i=o[0],l=o[1],d=Object(a.useState)(!1),u=Object(f.a)(d,2),j=u[0],h=u[1],b=Object(a.useRef)(),m=Object(a.useRef)(),p=Object(a.useRef)(),x=Object(a.useRef)(),w=Object(a.useRef)(),v=function(e){return 0!==e.trim().length};return Object(_.jsx)(a.Fragment,{children:Object(_.jsxs)("div",{className:Te.a.formCont,children:[Object(_.jsx)("h1",{style:{color:"teal",textAlign:"center"},children:s?"SignUp":"Login"}),j&&Object(_.jsx)(E,{}),Object(_.jsxs)("form",{className:Te.a.form,onSubmit:function(e){if(e.preventDefault(),s){if(!v(p.current.value)||!v(m.current.value)||!v(x.current.value)||!v(w.current.value))return void l("Fields Should not be empty");if(x.current.value!==w.current.value)return void l("Password and confirm password should be equal");if(m.current.value.trim().length>20)return void l("Username could not be more than 20 characters")}else if(!v(b.current.value)||!v(x.current.value))return void l("Fields Should not be empty");var a,r,c;h(!0),s?(r="".concat("https://nameless-beach-48284.herokuapp.com","/api/postSignUp"),c={username:m.current.value.trim(),email:p.current.value.trim(),password:x.current.value}):(r="".concat("https://nameless-beach-48284.herokuapp.com","/api/postLogin"),c={emailOrUser:b.current.value.trim(),password:x.current.value}),fetch(r,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(c)}).then((function(e){return a=e,e.json()})).then((function(e){if(401===a.status)throw new Error(e.message);if(500===a.status||!a.ok)throw new Error("There was an error please try again.");localStorage.setItem("Authorization","Bearer ".concat(e.accessToken)),t(O.setAuthState({authenticated:!0,username:e.username,email:e.email,ownerId:e.ownerId})),n.push("/main")})).catch((function(e){h(!1),l(e.message)}))},children:[!s&&Object(_.jsx)("input",{type:"text",placeholder:"username or email",ref:b}),s&&Object(_.jsx)("input",{type:"email",placeholder:"email",ref:p}),s&&Object(_.jsx)("input",{type:"text",placeholder:"username",ref:m}),Object(_.jsx)("input",{type:"password",placeholder:"password",ref:x}),s&&Object(_.jsx)("input",{type:"password",placeholder:"confirm password",ref:w}),i&&Object(_.jsx)("h2",{style:{color:"red",fontSize:"1.2rem",margin:0,padding:0},children:i}),Object(_.jsx)("button",{type:"submit",children:s?"SignUp":"Login"}),Object(_.jsxs)("p",{style:{color:"teal",textAlign:"center"},children:[s?"Don't have an account?":"Already Have an account?"," ",Object(_.jsx)(g.b,{to:"/".concat(s?"login":"signup"),children:s?"Login":"SignUp"})]})]})]})})};var Ee=function(){var e=Object(a.useState)(!0),t=Object(f.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),o=Object(f.a)(r,2),i=o[0],d=o[1];Object(a.useEffect)((function(){fetch("".concat("https://nameless-beach-48284.herokuapp.com","/api/getAuthState"),{method:"GET",headers:{"Content-type":"application/json",Authorization:localStorage.getItem("Authorization")}}).then((function(e){if(500===e.status||401===e.status||!e.ok){var t=new Error;throw t.statusCode=e.status,t}return e.json()})).then((function(e){console.log(e),h(O.setAuthState({authenticated:e.authenticated,username:e.username,email:e.email,ownerId:e.ownerId})),s(!1),d(!0)})).catch((function(e){s(!1),500===e.statusCode||401===e.statusCode?(d(!0),h(O.setAuthState({authenticated:!1}))):(d(!0),h(l.toggleMeta("Kindly check your internet connection and try  again.")))}))}),[]);var u=Object(c.c)((function(e){return e.auth.authenticated})),j=Object(c.c)((function(e){return e.ui.meta})),h=Object(c.b)();return Object(_.jsxs)(a.Fragment,{children:[n&&Object(_.jsx)(E,{}),i&&Object(_.jsxs)(te.d,{children:[Object(_.jsxs)(te.b,{path:"/",exact:!0,children:[u&&Object(_.jsx)(te.a,{to:"/main"}),!u&&Object(_.jsx)(te.a,{to:"/welcome"})]}),Object(_.jsx)(te.b,{path:"/welcome",exact:!0,children:Object(_.jsx)(He,{})}),Object(_.jsxs)(te.b,{path:"/main",exact:!0,children:[u&&Object(_.jsx)(xe,{}),!u&&Object(_.jsx)(te.a,{to:"/welcome"})]}),Object(_.jsx)(te.b,{path:"/login",children:Object(_.jsx)(Ie,{})}),Object(_.jsx)(te.b,{path:"/signup",children:Object(_.jsx)(Ie,{signUp:!0})}),Object(_.jsx)(te.b,{path:"*",exact:!0,children:Object(_.jsx)(Pe,{})})]}),j.show&&Object(_.jsx)(W,{message:j.message,closeHandler:function(){h(l.toggleMeta(""))}})]})};r.a.render(Object(_.jsx)(g.a,{children:Object(_.jsx)(c.a,{store:p,children:Object(_.jsx)(Ee,{})})}),document.getElementById("root"))}]),[[83,1,2]]]);
//# sourceMappingURL=main.11fbb08a.chunk.js.map